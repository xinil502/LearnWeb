# HTTP学习

## 一、HTTP的概念和介绍

概念：超文本传输协议(Hyper Text Transfer Protocol)。

作用：规范浏览器和服务器的数据交互的格式。

特点：

* 简单快速:客户向服务器请求服务时,只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。

* 灵活:HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。
* 无连接:无连接的含义是限制每次连接只处理一个请求。服务器
  处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方
  式可以节省传输时间。
* 无状态:HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。
* 支持B/S及C/S模式。
* HTTP1.1版本后支持可持续连接。

## 二、HTTP的交互流程：

HTTP的交互流程一般分为四个步骤（一次完整的请求）：

- 1.客户端与服务器建立连接。
- 2.客户端发送请求数据到服务器端(HTTP协议)
- 3.服务器端接收到请求后，进行处理，然后将处理结果响应客户端(HTTP协议)
- 4.关闭客户端和服务器端的连接(HTTP1.1后不会立即关闭)

## 三、HTTP请求信息格式
* 1.请求行

  * 请求行分为三部分：请求方法，请求路径(URL的一部分)，所用的协议（HTTP）。

    请求方法分为：GET，POST，PUT，DELETE，TRACE，OPTIONS

* 2.请求头信息

  * 请求头信息是非常丰富的。
  * 例如：
    * host:
    * Content-length:
    * Content-Type:

* 3.一行空行（必须有，不能省略）

  * 头信息和主体信息需要空行去做区分

* 4.请求主体信息（非必须）

## 四、HTTP响应信息格式：

* 1.响应行

  * 分为协议版本，状态码，状态消息

* 2.响应头信息
  - key:value
  - key:value
  - Content-Length:接下来的主体长度
  - Content-Type:数据类型
  - .....

* 3.空行

* 4.主体部分

## 五、GET与POST请求

get和post请求方式的区别:

- get请求方式∶
  * 请求数据会以?的形式隔开拼接在请求头中，不安全，没有请求实体部分。
  * HTTP协议虽然没有规定请求数据的大小,但是浏览器对URL的长度是有限制的，所以get请求不能携带大量的数据。
- post请求方式∶
  * 请求数据在请求实体中进行发送，在URL中看不到具体的请求数据，安全。适合数据量大的数据发送。

## 六、常见状态码

200 OK  //客户端请求成功
400 Bad Request //客户端请求有语法错误，不能被服务器所理解

401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用
403 Forbidden   //服务器收到请求，但是拒绝提供服务
404 Not Found   //请求资源不存在，eg:输入了错误的URL
500 Internal Server Error  //服务器发生不可预期的错误（服务器出bug崩了）。
503 Server Unavailable  //服务器当前不能处理客户端的请求，一段时间后可能恢复正常